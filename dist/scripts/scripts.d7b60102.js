"use strict";angular.module("cubicalApp",["ngAnimate","ngMessages","ngAria","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","ngMaterial"]).config(["$routeProvider","$sceDelegateProvider","$qProvider",function(a,b,c){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"}).otherwise({redirectTo:"/"}),c.errorOnUnhandledRejections(!1),b.resourceUrlWhitelist(["self","http://itunes.apple.com/**"])}]),angular.module("cubicalApp").controller("MainCtrl",["$scope","ArtistFactory","$mdDialog",function(a,b,c){function d(a,b,c,d){a.hide=function(){c.hide()},a.cancel=function(){c.cancel()},a.answer=function(a){c.hide(a)},a.GetTracks=function(){a.artist&&a.artist.name&&"jack"===a.artist.name.toLowerCase()&&4===a.artist.trackCount&&d.jsonp("http://itunes.apple.com/search?term=jack&limit=4",{jsonpCallbackParam:"callback"}).then(function(c){a.hide(),b.setTracks(c.data.results),b.loadTracks()})}}a.areTracksLoaded=function(){return b.areTracksLoaded()},a.trackData=[],a.$watch("areTracksLoaded()",function(c,d){c&&c!==d&&(a.trackData=b.getTracks())}),a.showAdvanced=function(b){c.show({controller:d,templateUrl:"views/dialog1.tmpl.html",parent:angular.element(document.body),targetEvent:b,clickOutsideToClose:!0,fullscreen:a.customFullscreen}).then(function(b){a.status='You said the information was "'+b+'".'},function(){a.status="You cancelled the dialog."})},d.$inject=["$scope","ArtistFactory","$mdDialog","$http"]}]),angular.module("cubicalApp").factory("ArtistFactory",function(){var a=!1,b=[];return{loadTracks:function(){a=!0},areTracksLoaded:function(){return a},setTracks:function(a){b=a},getTracks:function(){return b}}}),angular.module("cubicalApp").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("cubicalApp").run(["$templateCache",function(a){a.put("views/about.html","<p>This is the about view.</p>"),a.put("views/dialog1.tmpl.html",'<md-dialog aria-label="Artist Details"> <form name="artistForm" ng-cloak> <md-toolbar> <div class="md-toolbar-tools"> <h2>Artist Details</h2> <span flex></span> <md-button class="md-icon-button" ng-click="cancel()"> <div class="glyphicon glyphicon-remove" aria-label="Close Dialog" ng-click="cancel()"></div> </md-button> </div> </md-toolbar> <md-dialog-content> <div class="md-dialog-content"> <md-input-container class="md-block"> <label>Artist Name</label> <input ng-pattern="/^jack$/i" required name="artistName" ng-model="artist.name" md-autofocus> <div ng-messages="artistForm.artistName.$error"> <div ng-message="pattern">Name should be Jack!</div> </div> </md-input-container> <md-input-container class="md-block"> <label>No of Tracks</label> <input type="number" ng-pattern="/^4$/" required min="1" max="100" step="any" name="artistTrackCount" ng-model="artist.trackCount"> <div ng-messages="artistForm.artistTrackCount.$error"> <div ng-message="pattern">Number of tracks should be 4!</div> </div> </md-input-container> </div> </md-dialog-content> <md-dialog-actions layout="row" layout-align="center center"> <md-button type="submit" ng-click="GetTracks()">Submit</md-button> </md-dialog-actions> </form> </md-dialog>'),a.put("views/main.html",'<div layout flex layout-align="center center"> <md-button ng-if="!areTracksLoaded()" class="md-raised md-primary" ng-click="showAdvanced($event)">Search Artist</md-button> <div layout flex="80" ng-if="areTracksLoaded()"> <md-tabs flex md-border-bottom> <md-tab ng-repeat="track in trackData" label="{{track.artistName}}"> <div class="tabContainer" layout="column" flex layout-align="center center"> <md-label>Artist: {{track.artistName}}</md-label> <div layout> <img ng-src="{{track.artworkUrl30}}"> <md-label>Track: {{track.trackName}}</md-label> </div> </div> </md-tab> </md-tabs> </div> </div>')}]);